.ku-textarea-wrapper {
  display: flex;
  flex-direction: column;
  gap: var(--ku-spacing-2);
  width: 100%;
}

.ku-textarea-label {
  color: var(--ku-color-text-primary);
  font-family: var(--ku-font-family-base);
  font-size: var(--ku-font-size-sm);
  font-weight: var(--ku-font-weight-medium);
  cursor: pointer;
}

.ku-textarea-label--disabled {
  color: var(--ku-color-text-disabled);
  cursor: not-allowed;
}

.ku-textarea-field {
  position: relative;
  width: 100%;
}

/* Base textarea styles */
.ku-textarea {
  width: 100%;
  min-height: 80px;
  font-family: var(--ku-font-family-base);
  font-size: var(--ku-font-size-sm);
  line-height: var(--ku-line-height-normal);
  transition: all var(--ku-transition-normal);
  resize: vertical;
}

/* Placeholder styles */
.ku-textarea::placeholder {
  font-family: var(--ku-font-family-base);
  color: var(--ku-color-text-subtle);
  opacity: 1; /* Fix for Firefox opacity */
  transition: color var(--ku-transition-normal);
}

/* Variant-specific placeholder styles */
.ku-textarea--outlined::placeholder {
  color: var(--ku-color-text-subtle);
}

.ku-textarea--filled::placeholder {
  color: var(--ku-color-text-muted);
}

.ku-textarea--subtle::placeholder {
  color: var(--ku-color-text-subtle);
}

/* Hover state placeholders */
.ku-textarea:hover:not(:disabled)::placeholder {
  color: var(--ku-color-text-muted);
}

/* Focus state placeholders */
.ku-textarea:focus::placeholder {
  color: var(--ku-color-text-subtle);
  opacity: 0.8;
}

/* Disabled state placeholders */
.ku-textarea--disabled::placeholder {
  color: var(--ku-color-text-disabled) !important;
  opacity: 0.5 !important;
}

/* Dark theme placeholder adjustments */
[data-theme="dark"] .ku-textarea::placeholder {
  color: var(--ku-color-text-muted-dark);
}

[data-theme="dark"] .ku-textarea--outlined::placeholder {
  color: var(--ku-color-text-subtle);
}

[data-theme="dark"] .ku-textarea--filled::placeholder {
  color: var(--ku-color-text-muted-dark);
}

[data-theme="dark"] .ku-textarea--subtle::placeholder {
  color: var(--ku-color-text-subtle);
}

[data-theme="dark"] .ku-textarea:hover:not(:disabled)::placeholder {
  color: var(--ku-color-text-muted-dark);
}

[data-theme="dark"] .ku-textarea:focus::placeholder {
  color: var(--ku-color-text-subtle);
  opacity: 0.8;
}

[data-theme="dark"] .ku-textarea--disabled::placeholder {
  color: var(--ku-color-text-disabled-dark) !important;
  opacity: 0.5 !important;
}

/* High contrast mode placeholder */
@media (forced-colors: active) {
  .ku-textarea {
    border: 1px solid ButtonBorder;
  }
  
  .ku-textarea:focus {
    outline: 2px solid ButtonText;
    outline-offset: 2px;
  }
  
  .ku-textarea--error {
    border: 2px solid Mark;
  }
}

/* Variants */
/* Outlined variant */
.ku-textarea--outlined {
  padding: var(--ku-spacing-2-5);
  background-color: var(--ku-color-background-default);
  border: 1px solid var(--ku-color-border-default);
  border-radius: var(--ku-border-radius-md);
  color: var(--ku-color-text-primary);
}

.ku-textarea--outlined:hover:not(:disabled) {
  border-color: var(--ku-color-border-hovered);
}

.ku-textarea--outlined:focus {
  outline: none;
  border-color: var(--ku-color-primary-500);
  box-shadow: 0 0 0 2px var(--ku-color-primary-100);
}

/* Filled variant */
.ku-textarea--filled {
  padding: var(--ku-spacing-2-5);
  background-color: var(--ku-color-gray-100);
  border: 1px solid transparent;
  border-radius: var(--ku-border-radius-md);
  color: var(--ku-color-text-primary);
}

.ku-textarea--filled:hover:not(:disabled) {
  background-color: var(--ku-color-gray-200);
}

.ku-textarea--filled:focus {
  outline: none;
  background-color: var(--ku-color-background-default);
  border-color: var(--ku-color-primary-500);
  box-shadow: 0 0 0 2px var(--ku-color-primary-100);
}

/* Subtle variant */
.ku-textarea--subtle {
  padding: var(--ku-spacing-2-5);
  background-color: transparent;
  border: 1px solid transparent;
  border-radius: var(--ku-border-radius-md);
  color: var(--ku-color-text-primary);
}

.ku-textarea--subtle:hover:not(:disabled) {
  background-color: var(--ku-color-gray-100);
}

.ku-textarea--subtle:focus {
  outline: none;
  background-color: var(--ku-color-background-default);
  border-color: var(--ku-color-primary-500);
  box-shadow: 0 0 0 2px var(--ku-color-primary-100);
}

/* Sizes */
.ku-textarea--sm {
  min-height: var(--ku-size-15);
  padding: var(--ku-spacing-2);
  font-size: var(--ku-font-size-sm);
}

.ku-textarea--md {
  min-height: var(--ku-size-20);
  padding: var(--ku-spacing-2-5);
  font-size: var(--ku-font-size-sm);
}

.ku-textarea--lg {
  min-height: var(--ku-size-25);
  padding: var(--ku-spacing-3);
  font-size: var(--ku-font-size-md);
}

/* States */
.ku-textarea--error {
  border-color: var(--ku-color-danger-500) !important;
}

.ku-textarea--error:focus {
  border-color: var(--ku-color-danger-500) !important;
  box-shadow: 0 0 0 2px var(--ku-color-danger-100) !important;
}

.ku-textarea--disabled {
  opacity: var(--ku-opacity-disabled);
  cursor: not-allowed;
}

.ku-textarea--outlined.ku-textarea--disabled {
  background-color: var(--ku-color-gray-100);
  border-color: var(--ku-color-border-default);
}

.ku-textarea--filled.ku-textarea--disabled {
  background-color: var(--ku-color-gray-200);
}

.ku-textarea--subtle.ku-textarea--disabled {
  background-color: transparent;
}

/* Helper text and error message */
.ku-textarea-helper {
  color: var(--ku-color-text-muted);
  font-family: var(--ku-font-family-base);
  font-size: var(--ku-font-size-sm);
}

.ku-textarea-error {
  color: var(--ku-color-danger-500);
  font-family: var(--ku-font-family-base);
  font-size: var(--ku-font-size-sm);
}

/* Dark theme */
[data-theme="dark"] .ku-textarea-label {
  color: var(--ku-color-text-primary-dark);
}

[data-theme="dark"] .ku-textarea-label--disabled {
  color: var(--ku-color-text-disabled-dark);
}

/* Dark theme - Outlined variant */
[data-theme="dark"] .ku-textarea--outlined {
  background-color: var(--ku-color-gray-900);
  border-color: var(--ku-color-border-default-dark);
  color: var(--ku-color-text-primary-dark);
}

[data-theme="dark"] .ku-textarea--outlined:hover:not(:disabled) {
  border-color: var(--ku-color-border-hovered-dark);
}

/* Dark theme - Filled variant */
[data-theme="dark"] .ku-textarea--filled {
  background-color: var(--ku-color-gray-800);
  color: var(--ku-color-text-primary-dark);
}

[data-theme="dark"] .ku-textarea--filled:hover:not(:disabled) {
  background-color: var(--ku-color-gray-700);
}

[data-theme="dark"] .ku-textarea--filled:focus {
  background-color: var(--ku-color-gray-900);
}

/* Dark theme - Subtle variant */
[data-theme="dark"] .ku-textarea--subtle {
  color: var(--ku-color-text-primary-dark);
}

[data-theme="dark"] .ku-textarea--subtle:hover:not(:disabled) {
  background-color: var(--ku-color-gray-800);
}

[data-theme="dark"] .ku-textarea--subtle:focus {
  background-color: var(--ku-color-gray-900);
}

[data-theme="dark"] .ku-textarea:focus {
  border-color: var(--ku-color-primary-400);
  box-shadow: 0 0 0 2px var(--ku-color-primary-900);
}

[data-theme="dark"] .ku-textarea--outlined.ku-textarea--disabled {
  background-color: var(--ku-color-gray-800);
  border-color: var(--ku-color-border-default-dark);
}

[data-theme="dark"] .ku-textarea--filled.ku-textarea--disabled {
  background-color: var(--ku-color-gray-800);
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .ku-textarea,
  .ku-textarea::placeholder {
    transition: none;
  }
} 