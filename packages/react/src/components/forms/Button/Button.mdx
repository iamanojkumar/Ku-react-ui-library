import { Meta, Story, Canvas, ArgTypes } from '@storybook/blocks';
import * as ButtonStories from './Button.stories';
import { Button } from './Button';

<Meta of={ButtonStories} />

# Button

A versatile button component that supports multiple variants, sizes, and states.

## Interactive Playground

Experiment with the Button component using the controls below:

<Canvas of={ButtonStories.Playground} />

## Props

<ArgTypes of={ButtonStories} />

## Features

### Variants

The Button component supports multiple visual styles to match different use cases.

<Canvas>
  <Story of={ButtonStories.Primary} />
  <Story of={ButtonStories.Secondary} />
  <Story of={ButtonStories.Outline} />
  <Story of={ButtonStories.Ghost} />
</Canvas>

### Sizes

Available in three sizes to fit different contexts.

<Canvas>
  <Story of={ButtonStories.Sizes} />
</Canvas>

### Icons

Buttons can include icons before or after the text, or can be icon-only buttons.

<Canvas>
  <Story of={ButtonStories.WithLeftIcon} />
  <Story of={ButtonStories.WithRightIcon} />
  <Story of={ButtonStories.IconOnly} />
</Canvas>

### States

Buttons support various states including loading, disabled, and full width.

<Canvas>
  <Story of={ButtonStories.Loading} />
  <Story of={ButtonStories.Disabled} />
  <Story of={ButtonStories.FullWidth} />
</Canvas>

### Badges and Counters

Buttons can display badges for notifications or counters for numeric values. Badges are typically used to show status or draw attention, while counters show numeric values.

#### Badges
Use badges to highlight new items, status changes, or draw attention to specific elements:

<Canvas>
  <Story of={ButtonStories.WithBadge} />
</Canvas>

```jsx
// Notification badge
<Button
  variant="secondary"
  leftIcon={<IconBell />}
  badge="New"
>
  Notifications
</Button>

// Numeric badge with icon
<Button
  variant="outline"
  leftIcon={<IconMessage />}
  badge="3"
>
  Messages
</Button>

// Simple badge
<Button
  variant="ghost"
  badge="!"
>
  Updates
</Button>
```

#### Counters
Use counters to display numeric values that can change over time, like likes, comments, or items:

<Canvas>
  <Story of={ButtonStories.WithCounter} />
</Canvas>

```jsx
// Interactive counter with color change
<Button
  variant="outline"
  leftIcon={<IconHeart color={likes > 42 ? '#ff4d4d' : undefined} />}
  counter={likes}
  onClick={() => setLikes(prev => prev + 1)}
>
  Likes
</Button>

// Message counter
<Button
  variant="secondary"
  leftIcon={<IconMessage />}
  counter={messages}
>
  Messages
</Button>

// Simple counter
<Button
  variant="ghost"
  counter={updates}
>
  Updates
</Button>
```

**Key Differences:**
- **Badges** are typically used for status indicators or drawing attention
- **Counters** are specifically for numeric values and often update dynamically
- Badges can contain any content (text, numbers, icons)
- Counters are styled consistently and only contain numbers

### Button Groups

Group buttons together with radio or checkbox behavior.

<Canvas>
  <Story of={ButtonStories.ButtonGroups} />
</Canvas>

## Design Tokens

The Button component uses the following design tokens:

### Base Sizes
- Height: `--ku-button-height-sm`, `--ku-button-height-md`, `--ku-button-height-lg`
- Min Width: `--ku-button-min-width`

### Padding
- Small: `--ku-button-padding-x-sm`, `--ku-button-padding-y-sm`
- Medium: `--ku-button-padding-x-md`, `--ku-button-padding-y-md`
- Large: `--ku-button-padding-x-lg`, `--ku-button-padding-y-lg`

### Typography
- Font Family: `--ku-button-font-family`
- Font Size: `--ku-button-font-size-sm`, `--ku-button-font-size-md`, `--ku-button-font-size-lg`
- Font Weight: `--ku-button-font-weight`
- Line Height: `--ku-button-line-height`
- Letter Spacing: `--ku-button-letter-spacing`

### Layout
- Gap: `--ku-button-gap`
- Border Radius: `--ku-button-radius`
- Border Width: `--ku-button-border-width`

### States
- Disabled Opacity: `--ku-button-disabled-opacity`
- Focus Ring: `--ku-button-focus-ring-width`, `--ku-button-focus-ring-style`, `--ku-button-focus-ring-color`
- Loading: `--ku-button-loading-spinner-size`, `--ku-button-loading-opacity`

## Accessibility

The Button component follows accessibility best practices:

- Uses semantic HTML (`<button>` element)
- Supports keyboard navigation
- Includes proper ARIA attributes for states (loading, disabled)
- Maintains sufficient color contrast
- Supports screen readers
- Respects reduced motion preferences
- Supports high contrast mode

## Best Practices

1. **Use Primary Buttons Sparingly**
   - Reserve primary buttons for the main call-to-action
   - Use secondary or outline buttons for alternative actions

2. **Consistent Sizing**
   - Use medium size as the default
   - Use small size for dense interfaces
   - Use large size for important actions or touch interfaces

3. **Clear Labels**
   - Use clear, action-oriented text
   - Avoid generic labels like "Click here" or "OK"

4. **Loading States**
   - Show loading state when an action is in progress
   - Disable the button during loading to prevent double-clicks

5. **Icon Usage**
   - Use icons to enhance visual recognition
   - Ensure icons are meaningful and not decorative
   - Maintain consistent icon placement across the interface

## Examples

### Form Submit Button
```jsx
<Button variant="primary" size="lg" fullWidth>
  Submit Form
</Button>
```

### Navigation Button
```jsx
<Button variant="ghost" size="sm" leftIcon={<IconArrowLeft />}>
  Go Back
</Button>
```

### Action Button with Loading
```jsx
<Button variant="secondary" isLoading loadingText="Processing...">
  Save Changes
</Button>
```

### Button Group with Radio Behavior
```jsx
<ButtonGroup type="radio">
  <Button variant="outline" isPressed={view === 'list'}>List</Button>
  <Button variant="outline" isPressed={view === 'grid'}>Grid</Button>
</ButtonGroup>
```

### Button with Badge and Counter
```jsx
<Button variant="secondary" badge="New" counter={5}>
  Notifications
</Button>
``` 