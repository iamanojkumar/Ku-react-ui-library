import { Meta, Story, Controls, Canvas } from '@storybook/blocks';
import * as TableStories from './Table.stories';
import {
  Table,
  TableHeader,
  TableBody,
  TableRow,
  TableCell,
  TableFooter,
} from './Table';

<Meta of={TableStories} />

# Table

The Table component is used to display data in a structured format with rows and columns. It supports various features like sorting, selection, and responsive design.

## Features

- Bordered and striped variants
- Compact and hoverable options
- Sortable columns
- Responsive design
- Sticky headers
- Row selection
- Custom styling through CSS classes

## Usage

```tsx
import {
  Table,
  TableHeader,
  TableBody,
  TableRow,
  TableCell,
  TableFooter,
} from '@ku-design-system/react';

function MyTable() {
  return (
    <Table bordered striped hoverable>
      <TableHeader>
        <TableRow>
          <TableCell header>Name</TableCell>
          <TableCell header>Email</TableCell>
          <TableCell header>Role</TableCell>
        </TableRow>
      </TableHeader>
      <TableBody>
        <TableRow>
          <TableCell>John Doe</TableCell>
          <TableCell>john@example.com</TableCell>
          <TableCell>Admin</TableCell>
        </TableRow>
      </TableBody>
      <TableFooter>
        <TableRow>
          <TableCell colSpan={2}>Total Users</TableCell>
          <TableCell>1</TableCell>
        </TableRow>
      </TableFooter>
    </Table>
  );
}
```

## Props

### Table Props

<Controls />

### TableHeader Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| sticky | boolean | false | Whether the header is sticky |
| className | string | - | Custom class for the header |

### TableBody Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| className | string | - | Custom class for the body |

### TableRow Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| selected | boolean | false | Whether the row is selected |
| className | string | - | Custom class for the row |

### TableCell Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| header | boolean | false | Whether the cell is a header cell |
| sortable | boolean | false | Whether the cell is sortable |
| sortDirection | 'asc' \| 'desc' | - | Sort direction |
| onSort | () => void | - | Sort handler |
| className | string | - | Custom class for the cell |

### TableFooter Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| className | string | - | Custom class for the footer |

## Examples

### Basic Table

<Canvas>
  <Story of={TableStories.Basic} />
</Canvas>

### Bordered Table

<Canvas>
  <Story of={TableStories.Bordered} />
</Canvas>

### Striped Table

<Canvas>
  <Story of={TableStories.Striped} />
</Canvas>

### Compact Table

<Canvas>
  <Story of={TableStories.Compact} />
</Canvas>

### Hoverable Table

<Canvas>
  <Story of={TableStories.Hoverable} />
</Canvas>

### Sortable Table

<Canvas>
  <Story of={TableStories.Sortable} />
</Canvas>

### Table with Footer

<Canvas>
  <Story of={TableStories.WithFooter} />
</Canvas>

### Responsive Table

<Canvas>
  <Story of={TableStories.Responsive} />
</Canvas>

## Accessibility

The Table component follows accessibility best practices:

- Uses semantic HTML table elements (`<table>`, `<thead>`, `<tbody>`, `<tfoot>`, `<tr>`, `<th>`, `<td>`)
- Supports keyboard navigation
- Provides visual feedback for interactive elements
- Maintains proper ARIA attributes
- Ensures sufficient color contrast

## Design Tokens

The Table component uses the following design tokens:

```css
:root {
  /* Table Colors */
  --ku-table-border-color: var(--ku-color-border);
  --ku-table-header-bg: var(--ku-color-gray-50);
  --ku-table-row-hover-bg: var(--ku-color-gray-50);
  --ku-table-row-selected-bg: var(--ku-color-primary-50);
  --ku-table-stripe-bg: var(--ku-color-gray-50);

  /* Table Typography */
  --ku-table-font-size: var(--ku-font-size-sm);
  --ku-table-header-font-weight: var(--ku-font-weight-semibold);
  --ku-table-cell-line-height: var(--ku-line-height-normal);

  /* Table Spacing */
  --ku-table-cell-padding: var(--ku-spacing-4);
  --ku-table-cell-padding-compact: var(--ku-spacing-2);
  --ku-table-header-padding: var(--ku-spacing-4);
  --ku-table-footer-padding: var(--ku-spacing-4);

  /* Table Border */
  --ku-table-border-width: var(--ku-border-width);
  --ku-table-border-radius: var(--ku-border-radius-md);
}
``` 